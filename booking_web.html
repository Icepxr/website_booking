<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="https://upload.wikimedia.org/wikipedia/th/thumb/5/5f/ENG_CMU_Logo.svg/1200px-ENG_CMU_Logo.svg.png">

  <style>
    /* ... (‡πÇ‡∏Ñ‡πâ‡∏î CSS ‡∏™‡πà‡∏ß‡∏ô :root ‡πÅ‡∏•‡∏∞ body.dark-mode ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ... */
    :root {
      --primary: #4f46e5; --primary-hover: #4338ca; --success: #22c55e; --error: #ef4444;
      --bg-page: #f3f4f6; --bg-card: #ffffff; --bg-input: #f9fafb; --bg-popup: #1f2937;
      --bg-popup-text: #f8fafc; --bg-result: #d1fae5; --text-header: #1f2937; --text-body: #1f2937;
      --text-label: #6b7280; --text-result: #065f46; --border-color: #d1d5db;
      --shadow-color: rgba(0, 0, 0, 0.1);
    }
    body.dark-mode {
      --bg-page: #1f2937; --bg-card: #111827; --bg-input: #1e293b; --bg-popup: #f8fafc;
      --bg-popup-text: #1f2937; --bg-result: #064e3b; --text-header: #f8fafc; --text-body: #f8fafc;
      --text-label: #cbd5e1; --text-result: #dcfce7; --border-color: #374151;
      --shadow-color: rgba(0, 0, 0, 0.5);
    }
    
    /* --- CSS ‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° --- */
    body {
      margin: 0; padding: 1rem; font-family: "Prompt", sans-serif; display: flex;
      justify-content: center; align-items: center; min-height: 100vh;
      background-color: var(--bg-page); color: var(--text-body);
      transition: background-color 0.3s, color 0.3s;
    }

    /* 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á Container ‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 3D effect */
    .flip-card-container {
      width: 100%;
      max-width: 450px;
      height: 650px; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Ñ‡∏á‡∏ó‡∏µ‡πà */
      perspective: 1000px; /* ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏°‡∏¥‡∏ï‡∏¥ 3D */
    }

    .flip-card {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.8s;
    }

    /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏•‡∏≤‡∏™ is-flipped ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏•‡∏¥‡∏Å */
    .flip-card.is-flipped {
      transform: rotateY(180deg);
    }

    .flip-card-front, .flip-card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      -webkit-backface-visibility: hidden; /* Safari */
      backface-visibility: hidden;
      display: flex;
      flex-direction: column;
      padding: 2rem 2.5rem;
      border-radius: 20px;
      background-color: var(--bg-card);
      box-shadow: 0 15px 35px var(--shadow-color);
      transition: background-color 0.3s, box-shadow 0.3s;
    }
    
    .flip-card-back {
      transform: rotateY(180deg);
      align-items: center;
    }
    
    /* ... (CSS ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢) ... */
    h2 { text-align: center; font-weight: 700; margin-bottom: 1.5rem; font-size: 1.5rem; color: var(--text-header); transition: color 0.3s; }
    h2 img { width: 40px; vertical-align: middle; margin-right: 10px; }
    label { display: block; margin-top: 1rem; margin-bottom: 0.3rem; font-weight: 500; font-size: 0.95rem; color: var(--text-label); transition: color 0.3s; }
    .note { font-size: 0.85rem; color: var(--text-label); margin-top: -0.2rem; margin-bottom: 0.5rem; transition: color 0.3s; }
    input { width: 100%; padding: 12px 15px; border-radius: 12px; border: 2px solid var(--border-color); background-color: var(--bg-input); color: var(--text-body); font-size: 1rem; font-family: "Prompt", sans-serif; transition: all 0.3s; }
    input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.2); }
    body.dark-mode input[type="datetime-local"]::-webkit-calendar-picker-indicator { filter: invert(1); }
    button, .action-button { width: 100%; padding: 14px; margin-top: 25px; border-radius: 12px; border: none; font-size: 1rem; font-weight: 600; cursor: pointer; background-color: var(--primary); color: #ffffff; transition: all 0.3s ease; text-align: center; }
    button:hover:not(:disabled), .action-button:hover { background-color: var(--primary-hover); transform: translateY(-2px); box-shadow: 0 6px 18px rgba(79, 70, 229, 0.3); }
    button:disabled { cursor: not-allowed; opacity: 0.7; }
    .result { margin-top: 20px; padding: 1rem; border-left: 5px solid var(--success); border-radius: 12px; display: none; animation: fadeIn 0.5s ease forwards; background-color: var(--bg-result); color: var(--text-result); transition: background-color 0.3s, color 0.3s, border-color 0.3s; }
    .popup { position: absolute; top: 20px; left: 50%; transform: translateX(-50%); padding: 8px 16px; border-radius: 10px; font-size: 0.9rem; display: none; animation: fadeInDown 0.3s ease; background-color: var(--bg-popup); color: var(--bg-popup-text); transition: background-color 0.3s, color 0.3s; }
    .alert-box { position: fixed; top: 20px; right: 10px; padding: 1rem 1.5rem; border-radius: 12px; z-index: 1000; transform: translateX(120%); background-color: var(--bg-card); color: var(--text-body); border-left: 5px solid var(--error); box-shadow: 0 5px 18px var(--shadow-color); transition: transform 0.5s, background-color 0.3s, color 0.3s, border-color 0.3s; }
    .alert-box.show { transform: translateX(0); } .alert-box.success { border-left-color: var(--success); }
    @keyframes fadeIn { from {opacity:0; transform: translateY(10px);} to {opacity:1; transform: translateY(0);} } @keyframes fadeInDown { from {opacity:0; transform: translateY(-10px);} to {opacity:1; transform: translateY(0);} }

    /* 2. ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î */
    #bookingList {
      width: 100%;
      height: 100%;
      overflow-y: auto;
      padding-right: 10px; /* ‡∏Å‡∏±‡∏ô scrollbar ‡∏ó‡∏±‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */
    }
    .booking-item {
      background-color: var(--bg-input);
      border-radius: 10px;
      padding: 12px;
      margin-bottom: 10px;
      border-left: 4px solid var(--primary);
      font-size: 0.9rem;
    }
    .booking-item b {
      color: var(--text-header);
    }
    
    /* 3. ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏°‡πÅ‡∏•‡∏∞‡∏õ‡∏∏‡πà‡∏°‡∏û‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πå‡∏î */
    .theme-toggle { position: fixed; top: 20px; left: 20px; z-index: 999; }
    .theme-toggle input { display: none; }
    .toggle-label { display: flex; align-items: center; width: 60px; height: 30px; background-color: var(--border-color); border-radius: 50px; position: relative; cursor: pointer; transition: background-color 0.4s; }
    .toggle-ball { width: 26px; height: 26px; background-color: #fff; border-radius: 50%; position: absolute; top: 2px; left: 2px; transition: transform 0.4s, background-color 0.4s; box-shadow: 0 3px 8px rgba(0,0,0,0.2); }
    input:checked + .toggle-label { background-color: var(--primary); }
    input:checked + .toggle-label .toggle-ball { transform: translateX(30px); }
    
    /* ‡∏õ‡∏∏‡πà‡∏°‡∏û‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πå‡∏î (‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô) */
/* ‡∏õ‡∏∏‡πà‡∏°‡∏û‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πå‡∏î (‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô) */
.flip-button {
  position: absolute;
  top: 16px;
  right: 16px;
  width: 60px;
  height: 60px;
  background-color: rgb(94, 93, 112);
  border: none;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 10;
  transition: background-color 0.3s, transform 0.2s;
}

.flip-button:hover {
  background-color: rgba(79, 70, 229, 0.1);
  transform: scale(1.1);
}

.flip-button svg {
  width: 22px;
  height: 22px;
  stroke: var(--text-label);
  pointer-events: none;
  transition: stroke 0.3s;
}

.flip-button:hover svg {
  stroke: var(--primary);
}



  </style>
</head>
<body>
  
  <div class="theme-toggle">
    <input type="checkbox" id="toggleTheme">
    <label for="toggleTheme" class="toggle-label">
      <span class="toggle-ball"></span>
    </label>
  </div>

  <div id="alertBox" class="alert-box"></div>

  <div class="flip-card-container">
    <div class="flip-card" id="flipCard">
      
      <div class="flip-card-front">
        <button class="flip-button" id="viewBookingsBtn" title="‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z" /></svg>
        </button>

        <div class="popup" id="popup">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...</div>
        <h2><img src="https://upload.wikimedia.org/wikipedia/th/thumb/5/5f/ENG_CMU_Logo.svg/1200px-ENG_CMU_Logo.svg.png" alt="CMU Logo">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á</h2>
        <form id="bookingForm">
          <label for="name">‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
          <input type="text" id="name" required>
          <label for="studentId">‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</label>
          <input type="text" id="studentId" required>
          <label for="time">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)</label>
          <p class="note">*‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏≠‡∏≤‡∏¢‡∏∏‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á 2 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</p>
          <input type="datetime-local" id="time" step="3600" required>
          <button type="submit" id="submitBtn">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</button>
        </form>
        <div class="result" id="resultBox"></div>
      </div>

      <div class="flip-card-back">
        <button class="flip-button" id="backToFormBtn" title="‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏á">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3" /></svg>
        </button>
        <h2>üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
        <div id="bookingList">
          <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
        </div>
      </div>

    </div>
  </div>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbxO-Pwjht3MbRVKj2BtzC2YkwDCZKYG1PNlq2ORQNPvVfUGD-UVXfHiqg019PbR4MFaXA/exec";
  // --- JavaScript ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏° (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ---

  const toggle = document.getElementById("toggleTheme");
  const body = document.body;
  function setTheme(isDark) {
    body.classList.toggle("dark-mode", isDark);
    localStorage.setItem("theme", isDark ? "dark" : "light");
    toggle.checked = isDark;
  }
  toggle.addEventListener("change", (e) => setTheme(e.target.checked));
  (function initTheme() {
    const savedTheme = localStorage.getItem("theme");
    setTheme(savedTheme ? savedTheme === "dark" : window.matchMedia("(prefers-color-scheme: dark)").matches);
  })();

  // --- JavaScript ‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Flip Card ‡πÅ‡∏•‡∏∞‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ---
  const flipCard = document.getElementById("flipCard");
  const viewBookingsBtn = document.getElementById("viewBookingsBtn");
  const backToFormBtn = document.getElementById("backToFormBtn");
  const bookingListDiv = document.getElementById("bookingList");

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏î‡∏∂‡∏á‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
 async function fetchAndDisplayBookings() {
  const bookingListDiv = document.getElementById("bookingList");
  bookingListDiv.innerHTML = "<p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á...</p>";

  try {
    const response = await fetch(scriptURL);
    const result_Get = await response.json();

    if (result_Get.status === "success" && Array.isArray(result_Get.data) && result_Get.data.length > 0) {
      const html = result_Get.data.map(booking => {
        const startTime = new Date(booking['‡πÄ‡∏ß‡∏•‡∏≤_‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô']);
        const dateStr = startTime.toLocaleDateString("th-TH", { dateStyle: 'medium' });
        const timeStr = startTime.toLocaleTimeString("th-TH", { hour: '2-digit', minute: '2-digit' });

        return `
          <div class="booking-item">
            <b>${booking['‡∏ä‡∏∑‡πà‡∏≠_-_‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•']}</b> (${booking['‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤']})<br>
            <small>${dateStr} ‡πÄ‡∏ß‡∏•‡∏≤ ${timeStr} ‡∏ô.</small>
          </div>
        `;
      }).join('');
      bookingListDiv.innerHTML = html;
    } else {
      bookingListDiv.innerHTML = "<p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</p>";
    }
  } catch (error) {
    bookingListDiv.innerHTML = "<p>‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ</p>";
    console.error("Error fetching bookings:", error);
  }
}

  // Event Listeners ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏û‡∏•‡∏¥‡∏Å
  viewBookingsBtn.addEventListener("click", () => {
    flipCard.classList.add("is-flipped");
    fetchAndDisplayBookings(); // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏•‡∏¥‡∏Å‡πÑ‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á
  });

  backToFormBtn.addEventListener("click", () => {
    flipCard.classList.remove("is-flipped");
  });

  // --- Booking Script (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ---
  
  const form = document.getElementById("bookingForm");
  const timeInput = document.getElementById("time");
  const btn = document.getElementById("submitBtn");
  const resultBox = document.getElementById("resultBox");
  const popup = document.getElementById("popup");
  const alertBox = document.getElementById("alertBox");

  let alertTimeout;
  function showAlert(message, isSuccess = false) {
    clearTimeout(alertTimeout);
    alertBox.textContent = message;
    alertBox.className = "alert-box show";
    if (isSuccess) alertBox.classList.add("success");
    alertTimeout = setTimeout(() => { alertBox.classList.remove("show"); }, 4000);
  }

  timeInput.addEventListener("change", () => {
    const t = new Date(timeInput.value);
    t.setMinutes(0, 0, 0);
    const y = t.getFullYear();
    const m = String(t.getMonth() + 1).padStart(2, "0");
    const d = String(t.getDate()).padStart(2, "0");
    const h = String(t.getHours()).padStart(2, "0");
    timeInput.value = `${y}-${m}-${d}T${h}:00`;
  });

 form.addEventListener("submit", async (e) => {
  e.preventDefault();
  btn.disabled = true;
  popup.style.display = "block";
  resultBox.style.display = "none";

  const name = document.getElementById("name").value;
  const studentId = document.getElementById("studentId").value;
  const time = document.getElementById("time").value;
  const password = Math.floor(1000 + Math.random() * 9000);

  // ‚úÖ ‡πÉ‡∏ä‡πâ URLSearchParams ‡πÅ‡∏ó‡∏ô JSON
  const formData = new URLSearchParams({ name, studentId, time, password });

  try {
    const res = await fetch(scriptURL, {
      method: "POST",
      body: formData
    });

    const result = await res.json();
    popup.style.display = "none";

    if (result.status === "duplicate") {
      showAlert("‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏≠‡∏á‡πÑ‡∏î‡πâ: ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏à‡∏≠‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß");
      btn.disabled = false;
      return;
    }
    if (result.status === "success") {
      const startTime = new Date(time);
      const endTime = new Date(startTime.getTime() + 2 * 60 * 60 * 1000);
      resultBox.style.display = "block";
      resultBox.innerHTML = `
        <strong>‚úÖ ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</strong><br><br>
        ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á: <b>${name}</b><br>‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤: <b>${studentId}</b><br>
        ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°: <b>${startTime.toLocaleString("th-TH", { dateStyle: 'short', timeStyle: 'short' })} ‡∏ô.</b><br>
        ‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î: <b>${endTime.toLocaleString("th-TH", { dateStyle: 'short', timeStyle: 'short' })} ‡∏ô.</b><br><br>
        <span style="font-size:1.1rem;">üîë ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô: <b>${password}</b></span>
      `;
      form.reset();
    }
  } catch (err) {
    popup.style.display = "none";
    showAlert("üö´ ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠");
    console.error(err);
  }

  setTimeout(() => { btn.disabled = false; }, 3000);
});


</script>
</body>
</html>